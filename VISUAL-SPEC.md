# Train Punctuality Tracker â€“ Visual Specification

This document defines the **visual design** of the application: layout, components, colors, and responsive behaviour. Functional and data requirements are in the [functional specification](FUNCTIONAL-SPEC.md); implementation details are in the [technical specification](TECHNICAL-SPEC.md). Route data (train number, station name, departure time) is fetched in the background and used for **train selection**: the user chooses an outbound and a return train via two dropdowns; those selections drive all data fetch and display.

---

## Design principles

- **Clean, modern** single-page layout; no clutter.
- **Mantine** as the UI library: use its components and theme tokens for consistency.
- **Responsive**: Primary breakpoint for "mobile" layout: **768px** (stack cards, stack or shorten date row, horizontal scroll for table/timeline). No horizontal scroll of the entire page.

---

## Visual Wireframes

### Overall Layout Structure

**Train selection (two dropdowns):**
- **Outbound train:** Label "Outbound train"; options shown as **hh:mm (train number)** (e.g. 08:20 (1719)). Options from route data: only trains that **stop at LempÃ¤Ã¤lÃ¤**, direction LempÃ¤Ã¤lÃ¤ â†’ Tampere, sorted by departure time.
- **Return train:** Label "Return train"; same format hh:mm (train number). Options from route data: only trains that **stop at LempÃ¤Ã¤lÃ¤**, direction Tampere â†’ LempÃ¤Ã¤lÃ¤; **list is filtered** so only trains with departure time **after** the selected outbound are shown.
- **Placement:** Same row as Start date, End date, and Fetch Data, or on a second row below. Order: Start date, End date, Outbound train, Return train, Fetch Data.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚              ğŸš‚  Commute Punctuality                            â”‚
â”‚                   LempÃ¤Ã¤lÃ¤ â†” Tampere                            â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”‚ Start date  â”‚ â”‚  End date   â”‚ â”‚ Outbound train   â”‚ â”‚ Return train     â”‚ â”‚ ğŸ” Fetch Data   â”‚
â”‚   â”‚ 2026-01-15  â”‚ â”‚ 2026-01-29  â”‚ â”‚ 08:20 (1719)  â–¼  â”‚ â”‚ 16:35 (9700)  â–¼  â”‚ â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   Outbound options: hh:mm (train number), LempÃ¤Ã¤lÃ¤ â†’ Tampere (trains that stop at LempÃ¤Ã¤lÃ¤ only).
â”‚   Return options: same format, Tampere â†’ LempÃ¤Ã¤lÃ¤ (trains that stop at LempÃ¤Ã¤lÃ¤); return list
â”‚   filtered to trains departing after the selected outbound.
â”‚   (App may show "too many API calls" error if range would require more than 30 API calls.)   â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  ğŸ“Š Summary    â”‚ â”‚  ğŸ“… Timeline   â”‚ â”‚  ğŸ“‹ Table      â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                    [ CONTENT AREA ]                             â”‚
â”‚                                                                 â”‚
â”‚              (changes based on selected tab)                    â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚         Data: Digitraffic / Fintraffic â€¢ Weekdays only          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Summary View (Default)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚â”‚
â”‚  â”‚ â–‘  08:20 (1719) â€“ LPÃ„â†’TPE â–‘  â”‚ â”‚ â–‘  16:35 (9700) â€“ TPEâ†’LPÃ„ â–‘  â”‚â”‚
â”‚  â”‚ â–‘  LempÃ¤Ã¤lÃ¤ â†’ Tampere    â–‘  â”‚ â”‚ â–‘  Tampere â†’ LempÃ¤Ã¤lÃ¤    â–‘  â”‚â”‚
â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚â”‚
â”‚  â”‚                             â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚  â”‚    92%    â”‚   1.2     â”‚  â”‚ â”‚  â”‚    87%    â”‚   2.4     â”‚  â”‚â”‚
â”‚  â”‚  â”‚  On Time  â”‚  Avg Delayâ”‚  â”‚ â”‚  â”‚  On Time  â”‚  Avg Delayâ”‚  â”‚â”‚
â”‚  â”‚  â”‚           â”‚   (min)   â”‚  â”‚ â”‚  â”‚           â”‚   (min)   â”‚  â”‚â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚â”‚
â”‚  â”‚  â”‚  11 / 12  â”‚     0     â”‚  â”‚ â”‚  â”‚  10 / 12  â”‚     1     â”‚  â”‚â”‚
â”‚  â”‚  â”‚  On Time  â”‚ Cancelled â”‚  â”‚ â”‚  â”‚  On Time  â”‚ Cancelled â”‚  â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                             â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘           â”‚ â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘           â”‚â”‚
â”‚  â”‚  ğŸŸ¢ On time  ğŸŸ¡ 2-5m  ğŸ”´ >5mâ”‚ â”‚  ğŸŸ¢ On time  ğŸŸ¡ 2-5m  ğŸ”´ >5mâ”‚â”‚
â”‚  â”‚                             â”‚ â”‚                             â”‚â”‚
â”‚  â”‚  (orange/amber gradient)    â”‚ â”‚  (indigo/purple gradient)   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Card content: First card = selected outbound train (departure time + number, e.g. 08:20 (1719)); second card = selected return train (e.g. 16:35 (9700)). Replace placeholder times/numbers with the userâ€™s dropdown choices.
Card color coding:
- First (outbound) card: Orange to Amber gradient background
- Second (return) card: Indigo to Purple gradient background
- Stats boxes: Semi-transparent white overlay
```

### Timeline View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  08:20 (1719) â€“ LempÃ¤Ã¤lÃ¤ â†’ Tampere  (selected outbound)     â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”         â”‚â”‚
â”‚  â”‚  â”‚âœ“ â”‚â”‚âœ“ â”‚â”‚+2â”‚â”‚âœ“ â”‚â”‚+8â”‚â”‚âœ“ â”‚â”‚âœ“ â”‚â”‚âœ“ â”‚â”‚+1â”‚â”‚âœ“ â”‚â”‚âœ“ â”‚â”‚+3â”‚         â”‚â”‚
â”‚  â”‚  â”‚ğŸŸ¢â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¡â”‚â”‚ğŸŸ¢â”‚â”‚ğŸ”´â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¡â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¡â”‚         â”‚â”‚
â”‚  â”‚  â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜         â”‚â”‚
â”‚  â”‚  13  14  15  16  17  20  21  22  23  24  27  28  (dates)   â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Legend: ğŸŸ¢ On time  ğŸŸ¡ 2-5 min  ğŸ”´ >5 min  â¬œ Cancelled    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  16:35 (9700) â€“ Tampere â†’ LempÃ¤Ã¤lÃ¤  (selected return)      â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”â”Œâ”€â”€â”         â”‚â”‚
â”‚  â”‚  â”‚âœ“ â”‚â”‚+4â”‚â”‚âœ“ â”‚â”‚âœ• â”‚â”‚+2â”‚â”‚âœ“ â”‚â”‚+6â”‚â”‚âœ“ â”‚â”‚âœ“ â”‚â”‚+1â”‚â”‚âœ“ â”‚â”‚âœ“ â”‚         â”‚â”‚
â”‚  â”‚  â”‚ğŸŸ¢â”‚â”‚ğŸŸ¡â”‚â”‚ğŸŸ¢â”‚â”‚â¬œâ”‚â”‚ğŸŸ¡â”‚â”‚ğŸŸ¢â”‚â”‚ğŸ”´â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¡â”‚â”‚ğŸŸ¢â”‚â”‚ğŸŸ¢â”‚         â”‚â”‚
â”‚  â”‚  â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜â””â”€â”€â”˜         â”‚â”‚
â”‚  â”‚  13  14  15  16  17  20  21  22  23  24  27  28  (dates)   â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Legend: ğŸŸ¢ On time  ğŸŸ¡ 2-5 min  ğŸ”´ >5 min  â¬œ Cancelled    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cell behavior:
- Each cell represents one weekday
- Cell shows: "âœ“" for on-time, "+N" for delay minutes, "âœ•" for cancelled
- Hover/tap shows tooltip: "Mon 27.1.: On time" or "Tue 28.1.: +3 min delay"
- Cells flow left-to-right, oldest to newest
```

### Table View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  Outbound: 08:20 (1719) â€“ LempÃ¤Ã¤lÃ¤ â†’ Tampere                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Date      â”‚ Train    â”‚ Scheduled â”‚ Actual  â”‚ Delay â”‚Status â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  ti 28.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:23  â”‚ +3min â”‚ ğŸŸ¡    â”‚â”‚
â”‚  â”‚  ma 27.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:20  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  pe 24.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:21  â”‚ +1min â”‚ ğŸŸ¡    â”‚â”‚
â”‚  â”‚  to 23.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:20  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  ke 22.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:20  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  ti 21.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:20  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  ma 20.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:28  â”‚ +8min â”‚ ğŸ”´    â”‚â”‚
â”‚  â”‚  pe 17.1.  â”‚ HL 1719  â”‚   08:20   â”‚  08:20  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚     ...    â”‚   ...    â”‚    ...    â”‚   ...   â”‚  ...  â”‚ ...   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  Return: 16:35 (9700) â€“ Tampere â†’ LempÃ¤Ã¤lÃ¤                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Date      â”‚ Train    â”‚ Scheduled â”‚ Actual  â”‚ Delay â”‚Status â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  ti 28.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:35  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  ma 27.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:36  â”‚ +1min â”‚ ğŸŸ¡    â”‚â”‚
â”‚  â”‚  pe 24.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:35  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  to 23.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:35  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  ke 22.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:41  â”‚ +6min â”‚ ğŸ”´    â”‚â”‚
â”‚  â”‚  ti 21.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:35  â”‚  0min â”‚ ğŸŸ¢    â”‚â”‚
â”‚  â”‚  ma 20.1.  â”‚ HL 9700  â”‚   16:35   â”‚  16:37  â”‚ +2min â”‚ ğŸŸ¡    â”‚â”‚
â”‚  â”‚  pe 17.1.  â”‚ HL 9700  â”‚   16:35   â”‚    -    â”‚   -   â”‚ â¬œ    â”‚â”‚
â”‚  â”‚     ...    â”‚   ...    â”‚    ...    â”‚   ...   â”‚  ...  â”‚ ...   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Table features:
- Two sections: first = selected outbound train, second = selected return train. Headers show selected time and number (e.g. "08:20 (1719) â€“ LempÃ¤Ã¤lÃ¤ â†’ Tampere"). Default sort: newest first (descending by date). At least Date column sortable.
- Alternating row colors for readability.
- Status column: colored badge (green / yellow / red / gray per color scheme).
- Cancelled: Actual and Delay columns show "-".
- Delay column: green text for 0, red (or default) for positive values. Time format: 24h, Finnish local (e.g. 08:20).
```

### Mobile Layout (< 768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           â”‚
â”‚  ğŸš‚ Commute Punctuality    â”‚
â”‚   LempÃ¤Ã¤lÃ¤ â†” Tampere       â”‚
â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Start    â”‚ End        â”‚ â”‚
â”‚ â”‚ 2026-01-15â”‚ 2026-01-29â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Outbound train 08:20 (1719)â–¼â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Return train 16:35 (9700)â–¼â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     ğŸ” Fetch Data     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“Š Summary] [ğŸ“…] [ğŸ“‹]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–‘â–‘â–‘ MORNING 8:20 â–‘â–‘â–‘  â”‚ â”‚
â”‚ â”‚ LempÃ¤Ã¤lÃ¤ â†’ Tampere    â”‚ â”‚
â”‚ â”‚                       â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚   92%   â”‚  1.2    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ On Time â”‚Avg Delayâ”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–‘â–‘â–‘ EVENING 16:35 â–‘â–‘â–‘ â”‚ â”‚
â”‚ â”‚ Tampere â†’ LempÃ¤Ã¤lÃ¤    â”‚ â”‚
â”‚ â”‚                       â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚   87%   â”‚  2.4    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ On Time â”‚Avg Delayâ”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Data: Digitraffic /       â”‚
â”‚ Fintraffic â€¢ Weekdays only â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile adaptations:
- Cards stack vertically
- Date inputs on same row; train selects (Outbound train, Return train) stacked vertically or in two columnsâ€”no horizontal overflow of the full page
- Fetch button below selects
- Tab labels abbreviated or icon-only
- Table becomes horizontally scrollable
- Timeline cells wrap to multiple rows
```

### Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                     âŸ³  Fetching data...                         â”‚
â”‚                                                                 â”‚
â”‚                    Loading 12 of 14 days                        â”‚
â”‚                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                     âš ï¸  Error                                   â”‚
â”‚                                                                 â”‚
â”‚           Failed to fetch data from Digitraffic API.            â”‚
â”‚           Please check your connection and try again.           â”‚
â”‚                                                                 â”‚
â”‚                    [ ğŸ”„ Retry ]                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Too many API calls (validation error)

When the selected date range would require more than 30 API calls (based on what is already in local storage), show an error state **instead of** loading or fetching.

- **Message:** Clear text that the chosen range would require more than 30 API calls and the user should narrow the range (or rely on already cached data). Optionally show the computed number (e.g. "Would require 42 API calls. Maximum is 30.").
- **Behaviour:** No loading spinner; no API calls. User can change the date range and click Fetch again.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                     âš ï¸  Too many API calls                      â”‚
â”‚                                                                 â”‚
â”‚     This date range would require more than 30 API calls.       â”‚
â”‚     Please narrow the range or use already cached data.         â”‚
â”‚     (Would require 42 API calls. Maximum is 30.)                â”‚
â”‚                                                                 â”‚
â”‚     [ Change date range ]                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Empty State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                     ğŸ“­  No data                                 â”‚
â”‚                                                                 â”‚
â”‚        No train data found for the selected date range.         â”‚
â”‚        Try selecting a different period.                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### No route data (train selects)

When route data is not available (e.g. first visit or route fetch has not run), the train selection dropdowns are **disabled** and show the text **"No route data"** (or a single default option). The app uses default train numbers (1719 outbound, 9700 return) for Fetch and all views until route data exists; then the selects are populated from `train:route:today:{date}` and the user can choose trains. When route data exists, default selection is 1719 (outbound) and 9700 (return) when those trains appear in the options, otherwise the first option in each list.

---

## Color scheme (Mantine)

Use these theme tokens consistently for status and train cards:

| Use | Mantine token |
| --- | -------------- |
| On time (â‰¤1 min) | `green.5` |
| Slight delay (2â€“5 min) | `yellow.5` |
| Delayed (>5 min) | `red.5` |
| Cancelled | `gray.6` |
| Morning card | Orange to amber (e.g. `orange.5` â†’ `yellow.6`) |
| Evening card | Indigo to purple (e.g. `indigo.5` â†’ `violet.5`) |

**Implementation (CSS variables):** Mantine exposes colors as CSS variables with a **hyphen** between color name and shade. In code, use `var(--mantine-color-{name}-{shade})`, e.g. `var(--mantine-color-green-5)`, `var(--mantine-color-yellow-5)`, `var(--mantine-color-red-5)`, `var(--mantine-color-gray-6)`. Using a dot (e.g. `green.5`) in the variable name will not resolve and cells will render without background color.

---

## Reference

- **Functional spec**: [FUNCTIONAL-SPEC.md](FUNCTIONAL-SPEC.md) â€” behaviour, data model, acceptance criteria.
- **Technical spec**: [TECHNICAL-SPEC.md](TECHNICAL-SPEC.md) â€” stack, API, storage, deployment.
